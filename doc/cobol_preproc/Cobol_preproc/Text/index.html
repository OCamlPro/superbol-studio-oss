<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Text (cobol_preproc.Cobol_preproc.Text)</title><meta charset="utf-8"/><link rel="stylesheet" href="../../../odoc.support/odoc.css"/><meta name="generator" content="odoc 2.4.2"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../odoc.support/highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../../index.html">cobol_preproc</a> &#x00BB; <a href="../index.html">Cobol_preproc</a> &#x00BB; Text</nav><header class="odoc-preamble"><h1>Module <code><span>Cobol_preproc.Text</span></code></h1></header><div class="odoc-content"><div class="odoc-spec"><div class="spec module anchored" id="module-TYPES"><a href="#module-TYPES" class="anchor"></a><code><span><span class="keyword">module</span> <a href="TYPES/index.html">TYPES</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-text"><a href="#type-text" class="anchor"></a><code><span><span class="keyword">type</span> text</span><span> =
  <span><span><span class="xref-unresolved">Cobol_preproc__.Text_types.text_word</span> <a href="../../../cobol_common/Cobol_common/Srcloc/index.html#type-with_loc">Cobol_common.Srcloc.with_loc</a></span> list</span></span></code></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-t"><a href="#type-t" class="anchor"></a><code><span><span class="keyword">and</span> t</span><span> = <span><span><span class="xref-unresolved">Cobol_preproc__.Text_types.text_word</span> <a href="../../../cobol_common/Cobol_common/Srcloc/index.html#type-with_loc">Cobol_common.Srcloc.with_loc</a></span> list</span></span></code></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-text_word"><a href="#type-text_word" class="anchor"></a><code><span><span class="keyword">and</span> text_word</span><span> = </span></code><ol><li id="type-text_word.TextWord" class="def variant constructor anchored"><a href="#type-text_word.TextWord" class="anchor"></a><code><span>| </span><span><span class="constructor">TextWord</span> <span class="keyword">of</span> string</span></code></li><li id="type-text_word.CDirWord" class="def variant constructor anchored"><a href="#type-text_word.CDirWord" class="anchor"></a><code><span>| </span><span><span class="constructor">CDirWord</span> <span class="keyword">of</span> string</span></code></li><li id="type-text_word.Separator" class="def variant constructor anchored"><a href="#type-text_word.Separator" class="anchor"></a><code><span>| </span><span><span class="constructor">Separator</span> <span class="keyword">of</span> char</span></code></li><li id="type-text_word.Alphanum" class="def variant constructor anchored"><a href="#type-text_word.Alphanum" class="anchor"></a><code><span>| </span><span><span class="constructor">Alphanum</span> <span class="keyword">of</span> <a href="#type-alphanum">alphanum</a></span></code></li><li id="type-text_word.AlphanumPrefix" class="def variant constructor anchored"><a href="#type-text_word.AlphanumPrefix" class="anchor"></a><code><span>| </span><span><span class="constructor">AlphanumPrefix</span> <span class="keyword">of</span> <a href="#type-alphanum">alphanum</a></span></code></li><li id="type-text_word.Pseudo" class="def variant constructor anchored"><a href="#type-text_word.Pseudo" class="anchor"></a><code><span>| </span><span><span class="constructor">Pseudo</span> <span class="keyword">of</span> <a href="#type-pseudotext">pseudotext</a></span></code></li><li id="type-text_word.ExecBlock" class="def variant constructor anchored"><a href="#type-text_word.ExecBlock" class="anchor"></a><code><span>| </span><span><span class="constructor">ExecBlock</span> <span class="keyword">of</span> <a href="#type-text">text</a></span></code></li><li id="type-text_word.Eof" class="def variant constructor anchored"><a href="#type-text_word.Eof" class="anchor"></a><code><span>| </span><span><span class="constructor">Eof</span></span></code></li></ol></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-alphanum"><a href="#type-alphanum" class="anchor"></a><code><span><span class="keyword">and</span> alphanum</span><span> = </span><span>{</span></code><ol><li id="type-alphanum.knd" class="def record field anchored"><a href="#type-alphanum.knd" class="anchor"></a><code><span>knd : <a href="#type-literal_kind">literal_kind</a>;</span></code></li><li id="type-alphanum.qte" class="def record field anchored"><a href="#type-alphanum.qte" class="anchor"></a><code><span>qte : <a href="#type-quotation">quotation</a>;</span></code></li><li id="type-alphanum.str" class="def record field anchored"><a href="#type-alphanum.str" class="anchor"></a><code><span>str : string;</span></code></li></ol><code><span>}</span></code></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-quotation"><a href="#type-quotation" class="anchor"></a><code><span><span class="keyword">and</span> quotation</span><span> = </span></code><ol><li id="type-quotation.Quote" class="def variant constructor anchored"><a href="#type-quotation.Quote" class="anchor"></a><code><span>| </span><span><span class="constructor">Quote</span></span></code></li><li id="type-quotation.Apostrophe" class="def variant constructor anchored"><a href="#type-quotation.Apostrophe" class="anchor"></a><code><span>| </span><span><span class="constructor">Apostrophe</span></span></code></li></ol></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-literal_kind"><a href="#type-literal_kind" class="anchor"></a><code><span><span class="keyword">and</span> literal_kind</span><span> = </span></code><ol><li id="type-literal_kind.Basic" class="def variant constructor anchored"><a href="#type-literal_kind.Basic" class="anchor"></a><code><span>| </span><span><span class="constructor">Basic</span></span></code></li><li id="type-literal_kind.Bool" class="def variant constructor anchored"><a href="#type-literal_kind.Bool" class="anchor"></a><code><span>| </span><span><span class="constructor">Bool</span></span></code></li><li id="type-literal_kind.BoolX" class="def variant constructor anchored"><a href="#type-literal_kind.BoolX" class="anchor"></a><code><span>| </span><span><span class="constructor">BoolX</span></span></code></li><li id="type-literal_kind.Hex" class="def variant constructor anchored"><a href="#type-literal_kind.Hex" class="anchor"></a><code><span>| </span><span><span class="constructor">Hex</span></span></code></li><li id="type-literal_kind.NullTerm" class="def variant constructor anchored"><a href="#type-literal_kind.NullTerm" class="anchor"></a><code><span>| </span><span><span class="constructor">NullTerm</span></span></code></li><li id="type-literal_kind.National" class="def variant constructor anchored"><a href="#type-literal_kind.National" class="anchor"></a><code><span>| </span><span><span class="constructor">National</span></span></code></li><li id="type-literal_kind.NationalX" class="def variant constructor anchored"><a href="#type-literal_kind.NationalX" class="anchor"></a><code><span>| </span><span><span class="constructor">NationalX</span></span></code></li></ol></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-pseudotext"><a href="#type-pseudotext" class="anchor"></a><code><span><span class="keyword">and</span> pseudotext</span><span> =
  <span><span><span class="xref-unresolved">Cobol_preproc__.Text_types.pseudotok</span> <a href="../../../cobol_common/Cobol_common/Srcloc/index.html#type-with_loc">Cobol_common.Srcloc.with_loc</a></span> list</span></span></code></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-pseudoword"><a href="#type-pseudoword" class="anchor"></a><code><span><span class="keyword">and</span> pseudoword</span><span> = <span><a href="#type-pseudotok">pseudotok</a> <a href="../../../cobol_common/Cobol_common/Srcloc/index.html#type-with_loc">Cobol_common.Srcloc.with_loc</a></span></span></code></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-pseudotok"><a href="#type-pseudotok" class="anchor"></a><code><span><span class="keyword">and</span> pseudotok</span><span> = </span></code><ol><li id="type-pseudotok.PseudoWord" class="def variant constructor anchored"><a href="#type-pseudotok.PseudoWord" class="anchor"></a><code><span>| </span><span><span class="constructor">PseudoWord</span> <span class="keyword">of</span> <span><span><a href="#type-pseudoword_item">pseudoword_item</a> <a href="../../../cobol_common/Cobol_common/Srcloc/index.html#type-with_loc">Cobol_common.Srcloc.with_loc</a></span> list</span></span></code></li><li id="type-pseudotok.PseudoAlphanum" class="def variant constructor anchored"><a href="#type-pseudotok.PseudoAlphanum" class="anchor"></a><code><span>| </span><span><span class="constructor">PseudoAlphanum</span> <span class="keyword">of</span> <a href="#type-alphanum">alphanum</a></span></code></li></ol></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-pseudoword_item"><a href="#type-pseudoword_item" class="anchor"></a><code><span><span class="keyword">and</span> pseudoword_item</span><span> = </span></code><ol><li id="type-pseudoword_item.PwText" class="def variant constructor anchored"><a href="#type-pseudoword_item.PwText" class="anchor"></a><code><span>| </span><span><span class="constructor">PwText</span> <span class="keyword">of</span> string</span></code></li><li id="type-pseudoword_item.PwDelim" class="def variant constructor anchored"><a href="#type-pseudoword_item.PwDelim" class="anchor"></a><code><span>| </span><span><span class="constructor">PwDelim</span> <span class="keyword">of</span> <a href="#type-pseudotext_delimiter">pseudotext_delimiter</a></span></code></li></ol></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-pseudotext_delimiter"><a href="#type-pseudotext_delimiter" class="anchor"></a><code><span><span class="keyword">and</span> pseudotext_delimiter</span><span> = string * <span class="xref-unresolved">Str</span>.regexp</span></code></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-comment"><a href="#type-comment" class="anchor"></a><code><span><span class="keyword">type</span> comment</span><span> = </span><span>{</span></code><ol><li id="type-comment.comment_loc" class="def record field anchored"><a href="#type-comment.comment_loc" class="anchor"></a><code><span>comment_loc : <a href="../../../cobol_common/Cobol_common/Srcloc/index.html#type-lexloc">Cobol_common.Srcloc.lexloc</a>;</span></code></li><li id="type-comment.comment_kind" class="def record field anchored"><a href="#type-comment.comment_kind" class="anchor"></a><code><span>comment_kind : <span>[ `Line <span>| `Floating</span> ]</span>;</span></code></li><li id="type-comment.comment_contents" class="def record field anchored"><a href="#type-comment.comment_contents" class="anchor"></a><code><span>comment_contents : string;</span></code></li></ol><code><span>}</span></code></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-comments"><a href="#type-comments" class="anchor"></a><code><span><span class="keyword">and</span> comments</span><span> = <span><span class="xref-unresolved">Cobol_preproc__.Text_types.comment</span> list</span></span></code></div></div><p><code>*_eqp</code> functions below perform (ASCII) case-insensitive comparisons.</p><div class="odoc-spec"><div class="spec value anchored" id="val-textwordp"><a href="#val-textwordp" class="anchor"></a><code><span><span class="keyword">val</span> textwordp : <span><span><a href="#type-text_word">text_word</a> <a href="../../../cobol_common/Cobol_common/Srcloc/index.html#type-with_loc">Cobol_common.Srcloc.with_loc</a></span> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-textword_eqp"><a href="#val-textword_eqp" class="anchor"></a><code><span><span class="keyword">val</span> textword_eqp : <span><span class="label">eq</span>:string <span class="arrow">&#45;&gt;</span></span> <span><span><a href="#type-text_word">text_word</a> <a href="../../../cobol_common/Cobol_common/Srcloc/index.html#type-with_loc">Cobol_common.Srcloc.with_loc</a></span> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-cdirp"><a href="#val-cdirp" class="anchor"></a><code><span><span class="keyword">val</span> cdirp : <span><span><a href="#type-text_word">text_word</a> <a href="../../../cobol_common/Cobol_common/Srcloc/index.html#type-with_loc">Cobol_common.Srcloc.with_loc</a></span> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-cdir_eqp"><a href="#val-cdir_eqp" class="anchor"></a><code><span><span class="keyword">val</span> cdir_eqp : <span><span class="label">eq</span>:string <span class="arrow">&#45;&gt;</span></span> <span><span><a href="#type-text_word">text_word</a> <a href="../../../cobol_common/Cobol_common/Srcloc/index.html#type-with_loc">Cobol_common.Srcloc.with_loc</a></span> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-join_pseudo_string"><a href="#val-join_pseudo_string" class="anchor"></a><code><span><span class="keyword">val</span> join_pseudo_string : 
  <span><span class="label">string</span>:<span>(<span><span>string <a href="../../../cobol_common/Cobol_common/Srcloc/index.html#type-with_loc">Cobol_common.Srcloc.with_loc</a></span> <span class="keyword">as</span> 'a <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span>)</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span><a href="#type-pseudoword_item">pseudoword_item</a> <a href="../../../cobol_common/Cobol_common/Srcloc/index.html#type-with_loc">Cobol_common.Srcloc.with_loc</a></span> list</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="type-var">'a</span> option</span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-pseudo_string"><a href="#val-pseudo_string" class="anchor"></a><code><span><span class="keyword">val</span> pseudo_string : <span><span>string <a href="../../../cobol_common/Cobol_common/Srcloc/index.html#type-with_loc">Cobol_common.Srcloc.with_loc</a></span> <span class="arrow">&#45;&gt;</span></span> <a href="#type-pseudoword">pseudoword</a></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-pseudoword_of_string"><a href="#val-pseudoword_of_string" class="anchor"></a><code><span><span class="keyword">val</span> pseudoword_of_string : <span><span>string <a href="../../../cobol_common/Cobol_common/Srcloc/index.html#type-with_loc">Cobol_common.Srcloc.with_loc</a></span> <span class="arrow">&#45;&gt;</span></span> <a href="#type-pseudoword">pseudoword</a></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-pseudoword_of_alphanum"><a href="#val-pseudoword_of_alphanum" class="anchor"></a><code><span><span class="keyword">val</span> pseudoword_of_alphanum : 
  <span><span><span>(string * <a href="#type-quotation">quotation</a>)</span> <a href="../../../cobol_common/Cobol_common/Srcloc/index.html#type-with_loc">Cobol_common.Srcloc.with_loc</a></span> <span class="arrow">&#45;&gt;</span></span>
  <a href="#type-pseudoword">pseudoword</a></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-pseudoword_of_integer"><a href="#val-pseudoword_of_integer" class="anchor"></a><code><span><span class="keyword">val</span> pseudoword_of_integer : <span><span>int64 <a href="../../../cobol_common/Cobol_common/Srcloc/index.html#type-with_loc">Cobol_common.Srcloc.with_loc</a></span> <span class="arrow">&#45;&gt;</span></span> <a href="#type-pseudoword">pseudoword</a></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-alphanum_as_pseudoword"><a href="#val-alphanum_as_pseudoword" class="anchor"></a><code><span><span class="keyword">val</span> alphanum_as_pseudoword : 
  <span><span><span>(string * <span class="type-var">'a</span>)</span> <a href="../../../cobol_common/Cobol_common/Srcloc/index.html#type-with_loc">Cobol_common.Srcloc.with_loc</a></span> <span class="arrow">&#45;&gt;</span></span>
  <a href="#type-pseudoword">pseudoword</a></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-pseudotext_of_string"><a href="#val-pseudotext_of_string" class="anchor"></a><code><span><span class="keyword">val</span> pseudotext_of_string : 
  <span><span>string <a href="../../../cobol_common/Cobol_common/Srcloc/index.html#type-with_loc">Cobol_common.Srcloc.with_loc</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="#type-pseudotext">pseudotext</a> <a href="../../../cobol_common/Cobol_common/Srcloc/index.html#type-with_loc">Cobol_common.Srcloc.with_loc</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-pseudotext_of_alphanum"><a href="#val-pseudotext_of_alphanum" class="anchor"></a><code><span><span class="keyword">val</span> pseudotext_of_alphanum : 
  <span><span><span>(string * <a href="#type-quotation">quotation</a>)</span> <a href="../../../cobol_common/Cobol_common/Srcloc/index.html#type-with_loc">Cobol_common.Srcloc.with_loc</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="#type-pseudotext">pseudotext</a> <a href="../../../cobol_common/Cobol_common/Srcloc/index.html#type-with_loc">Cobol_common.Srcloc.with_loc</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-pseudotext_of_integer"><a href="#val-pseudotext_of_integer" class="anchor"></a><code><span><span class="keyword">val</span> pseudotext_of_integer : 
  <span><span>int64 <a href="../../../cobol_common/Cobol_common/Srcloc/index.html#type-with_loc">Cobol_common.Srcloc.with_loc</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="#type-pseudotext">pseudotext</a> <a href="../../../cobol_common/Cobol_common/Srcloc/index.html#type-with_loc">Cobol_common.Srcloc.with_loc</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-alphanum_as_pseudotext"><a href="#val-alphanum_as_pseudotext" class="anchor"></a><code><span><span class="keyword">val</span> alphanum_as_pseudotext : 
  <span><span><span>(string * <span class="type-var">'a</span>)</span> <a href="../../../cobol_common/Cobol_common/Srcloc/index.html#type-with_loc">Cobol_common.Srcloc.with_loc</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="#type-pseudotext">pseudotext</a> <a href="../../../cobol_common/Cobol_common/Srcloc/index.html#type-with_loc">Cobol_common.Srcloc.with_loc</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-pp_text"><a href="#val-pp_text" class="anchor"></a><code><span><span class="keyword">val</span> pp_text : <span><a href="#type-text">text</a> <a href="../../../pretty/Pretty/index.html#type-printer">Pretty.printer</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-pp_text'"><a href="#val-pp_text'" class="anchor"></a><code><span><span class="keyword">val</span> pp_text' : <span><span class="optlabel">?fsep</span>:<a href="../../../pretty/Pretty/index.html#type-simple">Pretty.simple</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-text">text</a> <a href="../../../pretty/Pretty/index.html#type-printer">Pretty.printer</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-pp_quote"><a href="#val-pp_quote" class="anchor"></a><code><span><span class="keyword">val</span> pp_quote : <span><a href="#type-quotation">quotation</a> <a href="../../../pretty/Pretty/index.html#type-printer">Pretty.printer</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-pp_word"><a href="#val-pp_word" class="anchor"></a><code><span><span class="keyword">val</span> pp_word : <span><a href="#type-text_word">text_word</a> <a href="../../../pretty/Pretty/index.html#type-printer">Pretty.printer</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-pp_pseudotext"><a href="#val-pp_pseudotext" class="anchor"></a><code><span><span class="keyword">val</span> pp_pseudotext : <span><a href="#type-pseudotext">pseudotext</a> <a href="../../../pretty/Pretty/index.html#type-printer">Pretty.printer</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-pp_literal_kind"><a href="#val-pp_literal_kind" class="anchor"></a><code><span><span class="keyword">val</span> pp_literal_kind : <span><a href="#type-literal_kind">literal_kind</a> <a href="../../../pretty/Pretty/index.html#type-printer">Pretty.printer</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-pp_alphanum"><a href="#val-pp_alphanum" class="anchor"></a><code><span><span class="keyword">val</span> pp_alphanum : <span><a href="#type-alphanum">alphanum</a> <a href="../../../pretty/Pretty/index.html#type-printer">Pretty.printer</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-prefix_of_literal_kind"><a href="#val-prefix_of_literal_kind" class="anchor"></a><code><span><span class="keyword">val</span> prefix_of_literal_kind : <span><a href="#type-literal_kind">literal_kind</a> <span class="arrow">&#45;&gt;</span></span> string</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-char_of_quotation"><a href="#val-char_of_quotation" class="anchor"></a><code><span><span class="keyword">val</span> char_of_quotation : <span><a href="#type-quotation">quotation</a> <span class="arrow">&#45;&gt;</span></span> char</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-strip_eof"><a href="#val-strip_eof" class="anchor"></a><code><span><span class="keyword">val</span> strip_eof : <span><a href="#type-text">text</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-text">text</a></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-map_pseudowords"><a href="#val-map_pseudowords" class="anchor"></a><code><span><span class="keyword">val</span> map_pseudowords : <span><span class="label">f</span>:<span>(<span>string <span class="arrow">&#45;&gt;</span></span> string)</span> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-pseudotext">pseudotext</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-pseudotext">pseudotext</a></span></code></div></div></div></body></html>
