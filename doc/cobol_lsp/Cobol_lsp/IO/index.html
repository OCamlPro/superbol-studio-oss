<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>IO (cobol_lsp.Cobol_lsp.IO)</title><meta charset="utf-8"/><link rel="stylesheet" href="../../../odoc.support/odoc.css"/><meta name="generator" content="odoc 3.1.0"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../odoc.support/highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../../../index.html">Index</a> &#x00BB; <a href="../../index.html">cobol_lsp</a> &#x00BB; <a href="../index.html">Cobol_lsp</a> &#x00BB; IO</nav><header class="odoc-preamble"><h1>Module <code><span>Cobol_lsp.IO</span></code></h1><p>Simple communication functions for the LSP server to send an receive json RPC messages.</p></header><div class="odoc-content"><div class="odoc-spec"><div class="spec exception anchored" id="exception-Parse_error"><a href="#exception-Parse_error" class="anchor"></a><code><span><span class="keyword">exception</span> </span><span><span class="exception">Parse_error</span> <span class="keyword">of</span> string</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-initialize_channels"><a href="#val-initialize_channels" class="anchor"></a><code><span><span class="keyword">val</span> initialize_channels : <span>unit <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p><code>initialize_channels ()</code> sets stdin and stdout channels in binary mode; this is required for proper operations on some systems.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-read_message"><a href="#val-read_message" class="anchor"></a><code><span><span class="keyword">val</span> read_message : <span>unit <span class="arrow">&#45;&gt;</span></span> <span class="xref-unresolved">Jsonrpc</span>.Packet.t</span></code></div><div class="spec-doc"><p><code>read_message ()</code> tries to read a json RPC message from the standard input stream. Raises <code>End_of_file</code> upon end of input stream.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-send_response"><a href="#val-send_response" class="anchor"></a><code><span><span class="keyword">val</span> send_response : <span><span class="xref-unresolved">Jsonrpc</span>.Response.t <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p><code>send_response response</code> sends out a json RPC response on standard output.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-send_request"><a href="#val-send_request" class="anchor"></a><code><span><span class="keyword">val</span> send_request : <span><span class="xref-unresolved">Jsonrpc</span>.Request.t <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p><code>send_request required</code> sends out a json RPC request on standard output.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-send_notification"><a href="#val-send_notification" class="anchor"></a><code><span><span class="keyword">val</span> send_notification : <span><span class="xref-unresolved">Jsonrpc</span>.Notification.t <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p><code>send_notification notif</code> sends out a json RPC notification on standard output.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-send_diagnostics"><a href="#val-send_diagnostics" class="anchor"></a><code><span><span class="keyword">val</span> send_diagnostics : <span><span class="label">uri</span>:<span class="xref-unresolved">Lsp</span>.Uri.t <span class="arrow">&#45;&gt;</span></span> <span><span><span class="xref-unresolved">Lsp</span>.Types.Diagnostic.t list</span> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p><code>send_diagnostics ~uri diagnostics</code> sends out a list of diagnostics that pertain to the given URI.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-pretty_message"><a href="#val-pretty_message" class="anchor"></a><code><span><span class="keyword">val</span> pretty_message : 
  <span><span class="optlabel">?log</span>:bool <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">type_</span>:<span class="xref-unresolved">Lsp</span>.Types.MessageType.t <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>(<span class="type-var">'a</span>, <span class="xref-unresolved">Stdlib</span>.Format.formatter, unit)</span> <span class="xref-unresolved">Stdlib</span>.format</span> <span class="arrow">&#45;&gt;</span></span>
  <span class="type-var">'a</span></span></code></div><div class="spec-doc"><p><code>pretty_message ~log ~type_ fmt ...</code> formats any number of arguments according to the format string <code>fmt</code>, and sends the result via a json RPC notification.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-pretty_log"><a href="#val-pretty_log" class="anchor"></a><code><span><span class="keyword">val</span> pretty_log : <span><span class="label">type_</span>:<span class="xref-unresolved">Lsp</span>.Types.MessageType.t <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">_</span> <a href="../../../pretty/Pretty/index.html#type-proc">Pretty.proc</a></span></span></code></div><div class="spec-doc"><p><code>pretty_log ~type_ fmt ...</code> formats any number of arguments according to the format string <code>fmt</code>, and sends the result as a log message via a json RPC notification.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-log"><a href="#val-log" class="anchor"></a><code><span><span class="keyword">val</span> log : <span><span class="label">type_</span>:<span class="xref-unresolved">Lsp</span>.Types.MessageType.t <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">_</span> <a href="../../../pretty/Pretty/index.html#type-proc">Pretty.proc</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-log_error"><a href="#val-log_error" class="anchor"></a><code><span><span class="keyword">val</span> log_error : <span><span class="type-var">_</span> <a href="../../../pretty/Pretty/index.html#type-proc">Pretty.proc</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-log_warn"><a href="#val-log_warn" class="anchor"></a><code><span><span class="keyword">val</span> log_warn : <span><span class="type-var">_</span> <a href="../../../pretty/Pretty/index.html#type-proc">Pretty.proc</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-log_info"><a href="#val-log_info" class="anchor"></a><code><span><span class="keyword">val</span> log_info : <span><span class="type-var">_</span> <a href="../../../pretty/Pretty/index.html#type-proc">Pretty.proc</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-log_debug"><a href="#val-log_debug" class="anchor"></a><code><span><span class="keyword">val</span> log_debug : <span><span class="type-var">_</span> <a href="../../../pretty/Pretty/index.html#type-proc">Pretty.proc</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-pretty_notification"><a href="#val-pretty_notification" class="anchor"></a><code><span><span class="keyword">val</span> pretty_notification : <span><span class="label">type_</span>:<span class="xref-unresolved">Lsp</span>.Types.MessageType.t <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">_</span> <a href="../../../pretty/Pretty/index.html#type-proc">Pretty.proc</a></span></span></code></div><div class="spec-doc"><p><code>pretty_notification ~type_ fmt ...</code> formats any number of arguments according to the format string <code>fmt</code>, and sends the result as a user notification message via a json RPC notification.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-notification"><a href="#val-notification" class="anchor"></a><code><span><span class="keyword">val</span> notification : <span><span class="label">type_</span>:<span class="xref-unresolved">Lsp</span>.Types.MessageType.t <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">_</span> <a href="../../../pretty/Pretty/index.html#type-proc">Pretty.proc</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-notify_error"><a href="#val-notify_error" class="anchor"></a><code><span><span class="keyword">val</span> notify_error : <span><span class="type-var">_</span> <a href="../../../pretty/Pretty/index.html#type-proc">Pretty.proc</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-notify_warn"><a href="#val-notify_warn" class="anchor"></a><code><span><span class="keyword">val</span> notify_warn : <span><span class="type-var">_</span> <a href="../../../pretty/Pretty/index.html#type-proc">Pretty.proc</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-notify_info"><a href="#val-notify_info" class="anchor"></a><code><span><span class="keyword">val</span> notify_info : <span><span class="type-var">_</span> <a href="../../../pretty/Pretty/index.html#type-proc">Pretty.proc</a></span></span></code></div></div></div></body></html>
