; generated by drom from package skeleton 'js_program'

(executable
  (name superbol_vscode_platform)
  (libraries vscode-languageclient-js-stubs vscode-js-stubs promise_jsoo polka-js-stubs ocplib_stuff node-js-stubs jsonoo js_of_ocaml gen_js_api ez_subst )
  (modes js)
  (preprocess (pps gen_js_api.ppx))
   (js_of_ocaml (flags --source-map --pretty))
 (enabled_if (= %{context_name} "default"))

  )

(install
 (files (superbol_vscode_platform.bc.js as www/js/superbol-vscode-platform.js))
 (section share)
 (package superbol-vscode-platform))


(rule
    (targets version.ml)
    (deps (:script version.mlt) package.toml)
    (action (with-stdout-to %{targets} (run %{ocaml} unix.cma %{script}))))

(documentation
  (package superbol-vscode-platform))

(rule
 (target superbol_vscode_platform.bc.js)
 (action (write-file %{target} ""))
 (enabled_if (<> %{context_name} "default")))


